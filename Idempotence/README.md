
## Команды запуска:

```

helm install idempotence ./usecase-chart
helm install nginx-idempotence stable/nginx-ingress -f nginx-ingress.yaml

```

или

`make helm-up`


## Описание решения


- Ключ иденпотентности передается в заголовке `X-Idempotence-Key`
- При повтороной отправке данных с тем же ключем, api возрашает ответ аналогичный тому который бы клиент получил при создании новой записи за исключением кода ответа 
  - `201` - когда запись создалась 
  - `200` - когда запись досталась на основе ключа иденпотентности
- Ключ иденпотентности хранится в базе, в отдельной таблице со структурой "IdempotenceKey, action, entityId", так мы можем переиспользовать функциональность ключа в разных частях системы для разных сущностей. Также при необходимости можем очищать таблицу с ключами которые устарели, к примеру хранить ключи в течении 24 часов. 
